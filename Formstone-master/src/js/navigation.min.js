!function(e,t,i){"use strict";function n(){k=e("html, body")}function a(t){t.handleGuid=$.handle+t.guid,t.isToggle="toggle"===t.type,t.open=!1,t.isToggle&&(t.gravity="");var i=$.base,n=[i,t.type].join("-"),a=t.gravity?[n,t.gravity].join("-"):"",o=[t.rawGuid,t.customClass].join(" ");t.handle=this.data(y+"-handle"),t.content=this.data(y+"-content"),t.handleClasses=[$.handle,$.handle.replace(i,n),a?$.handle.replace(i,a):"",t.handleGuid,o].join(" "),t.navClasses=[$.nav.replace(i,n),a?$.nav.replace(i,a):"",o].join(" "),t.contentClasses=[$.content.replace(i,n),o].join(" "),t.contentClassesOpen=[a?$.content.replace(i,a):"",$.open].join(" "),t.$nav=this.addClass(t.navClasses),t.$handle=e(t.handle).addClass(t.handleClasses),t.$content=e(t.content).addClass(t.contentClasses),t.$animate=e().add(t.$nav).add(t.$content),m(t),t.$handle.attr("data-swap-target",t.dotGuid).attr("data-swap-linked",t.handleGuid).attr("data-swap-group",$.base).on("activate.swap"+t.dotGuid,t,d).on("deactivate.swap"+t.dotGuid,t,u).on("enable.swap"+t.dotGuid,t,p).on("disable.swap"+t.dotGuid,t,f).fsSwap({maxWidth:t.maxWidth,classes:{target:t.dotGuid,enabled:w.enabled,active:w.open,raw:{target:t.rawGuid,enabled:$.enabled,active:$.open}}})}function o(e){e.$content.removeClass([e.contentClasses,e.contentClassesOpen].join(" ")).off(x.namespace),e.$handle.removeAttr("data-swap-target").removeData("swap-target").removeAttr("data-swap-linked").removeData("swap-linked").removeClass(e.handleClasses).off(e.dotGuid).text(e.originalLabel).fsSwap("destroy"),v(e),g(e),this.removeClass(e.navClasses).off(x.namespace)}function r(e){e.$handle.fsSwap("activate")}function s(e){e.$handle.fsSwap("deactivate")}function l(e){e.$handle.fsSwap("enable")}function c(e){e.$handle.fsSwap("disable")}function d(e){if(!e.originalEvent){var t=e.data;t.open||(t.$el.trigger(x.open),t.$content.addClass(t.contentClassesOpen).one(x.click,function(){s(t)}),t.label&&t.$handle.text(t.labels.open),h(t),t.open=!0)}}function u(e){if(!e.originalEvent){var t=e.data;t.open&&(t.$el.trigger(x.close),t.$content.removeClass(t.contentClassesOpen).off(x.namespace),t.label&&t.$handle.text(t.labels.closed),g(t),t.open=!1)}}function p(e){var t=e.data;t.$content.addClass($.enabled),setTimeout(function(){t.$animate.addClass($.animated)},0),t.label&&t.$handle.text(t.labels.closed)}function f(e){var t=e.data;t.$content.removeClass($.enabled,$.animated),t.$animate.removeClass($.animated),v(t),g(t)}function h(e){e.isToggle||k.addClass($.lock)}function g(e){e.isToggle||k.removeClass($.lock)}function m(e){if(e.label)if(e.$handle.length>1){e.originalLabel=[];for(var t=0,i=e.$handle.length;i>t;t++)e.originalLabel[t]=e.$handle.eq(t).text()}else e.originalLabel=e.$handle.text()}function v(e){if(e.label)if(e.$handle.length>1)for(var t=0,i=e.$handle.length;i>t;t++)e.$handle.eq(t).text(e.originalLabel[t]);else e.$handle.text(e.originalLabel)}var b=t.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",type:"toggle"},classes:["handle","nav","content","animated","enabled","open","toggle","push","reveal","overlay","left","right","lock"],events:{open:"open",close:"close"},methods:{_setup:n,_construct:a,_destruct:o,open:r,close:s,enable:l,disable:c}}),y=b.namespace,w=b.classes,$=w.raw,x=b.events,k=(b.functions,null)}(jQuery,Formstone);
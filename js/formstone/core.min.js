var Formstone=window.Formstone=function(e,t,i){"use strict";function n(e){p.Plugins[e].initialized||(p.Plugins[e].methods._setup.call(i),p.Plugins[e].initialized=!0)}function a(e,t,i,n){var a,o={raw:{}};n=n||{};for(a in n)n.hasOwnProperty(a)&&("classes"===e?(o.raw[n[a]]=t+"-"+n[a],o[n[a]]="."+t+"-"+n[a]):(o.raw[a]=n[a],o[a]=n[a]+"."+t));for(a in i)i.hasOwnProperty(a)&&("classes"===e?(o.raw[a]=i[a].replace(/{ns}/g,t),o[a]=i[a].replace(/{ns}/g,"."+t)):(o.raw[a]=i[a].replace(/.{ns}/g,""),o[a]=i[a].replace(/{ns}/g,t)));return o}function o(){var e,t={transition:"transitionend",MozTransition:"transitionend",OTransition:"otransitionend",WebkitTransition:"webkitTransitionEnd"},n=["transition","-webkit-transition"],a={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},o="transitionend",s="",r="",l=i.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in l.style){o=t[e],p.support.transition=!0;break}g.transitionEnd=o+".{ns}";for(e in n)if(n.hasOwnProperty(e)&&n[e]in l.style){s=n[e];break}p.transition=s;for(e in a)if(a.hasOwnProperty(e)&&a[e]in l.style){p.support.transform=!0,r=a[e];break}p.transform=r}function s(){p.windowWidth=p.$window.width(),p.windowHeight=p.$window.height(),m=u.startTimer(m,v,r)}function r(){for(var e in p.ResizeHandlers)p.ResizeHandlers.hasOwnProperty(e)&&p.ResizeHandlers[e].callback.call(t,p.windowWidth,p.windowHeight)}function l(){if(p.support.raf){p.window.requestAnimationFrame(l);for(var e in p.RAFHandlers)p.RAFHandlers.hasOwnProperty(e)&&p.RAFHandlers[e].callback.call(t)}}function c(e,t){return parseInt(e.priority)-parseInt(t.priority)}var d=function(){this.Version="0.8.24",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=t,this.$window=e(t),this.document=i,this.$document=e(i),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.userAgent=t.navigator.userAgent||t.navigator.vendor||t.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(t.File&&t.FileList&&t.FileReader),history:!!(t.history&&t.history.pushState&&t.history.replaceState),matchMedia:!(!t.matchMedia&&!t.msMatchMedia),pointer:!!t.PointerEvent,raf:!(!t.requestAnimationFrame||!t.cancelAnimationFrame),touch:!!("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch),transition:!1,transform:!1}},u={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(i){}},startTimer:function(e,t,i,n){return u.clearTimer(e),n?setInterval(i,t):setTimeout(i,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=p.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},i=e.slice(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++){var a=i[n].split("=");t[a[0]]=a[1]}return t}},p=new d,f=e.Deferred(),h={base:"{ns}",element:"{ns}-element"},g={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};d.prototype.NoConflict=function(){p.DontConflict=!0;for(var t in p.Plugins)p.Plugins.hasOwnProperty(t)&&(e[t]=p.Conflicts[t],e.fn[t]=p.Conflicts.fn[t])},d.prototype.Plugin=function(i,o){return p.Plugins[i]=function(i,n){function o(t){var a,o,s,l="object"===e.type(t),c=this,d=e();for(t=e.extend(!0,{},n.defaults||{},l?t:{}),o=0,s=c.length;s>o;o++)if(a=c.eq(o),!r(a)){var u="__"+n.guid++,p=n.classes.raw.base+u,f=a.data(i+"-options"),h=e.extend(!0,{$el:a,guid:u,rawGuid:p,dotGuid:"."+p},t,"object"===e.type(f)?f:{});a.addClass(n.classes.raw.element).data(b,h),n.methods._construct.apply(a,[h].concat(Array.prototype.slice.call(arguments,l?1:0))),d=d.add(a)}for(o=0,s=d.length;s>o;o++)a=d.eq(o),n.methods._postConstruct.apply(a,[r(a)]);return c}function s(){n.functions.iterate.apply(this,[n.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(n.classes.raw.element).removeData(b)}function r(e){return e.data(b)}function l(t){if(this instanceof e){var i=n.methods[t];return"object"!==e.type(t)&&t?i&&0!==t.indexOf("_")?n.functions.iterate.apply(this,[i].concat(Array.prototype.slice.call(arguments,1))):this:o.apply(this,arguments)}}function d(i){var a=n.utilities[i]||n.utilities._initialize||!1;return a?a.apply(t,Array.prototype.slice.call(arguments,"object"===e.type(i)?0:1)):void 0}function f(t){n.defaults=e.extend(!0,n.defaults,t||{})}function m(t){for(var i=this,n=0,a=i.length;a>n;n++){var o=i.eq(n),s=r(o)||{};"undefined"!==e.type(s.$el)&&t.apply(o,[s].concat(Array.prototype.slice.call(arguments,1)))}return i}var v="fs-"+i,b="fs"+i.replace(/(^|\s)([a-z])/g,function(e,t,i){return t+i.toUpperCase()});return n.initialized=!1,n.priority=n.priority||10,n.classes=a("classes",v,h,n.classes),n.events=a("events",i,g,n.events),n.functions=e.extend({getData:r,iterate:m},u,n.functions),n.methods=e.extend(!0,{_setup:e.noop,_construct:e.noop,_postConstruct:e.noop,_destruct:e.noop,_resize:!1,destroy:s},n.methods),n.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:f},n.utilities),n.widget&&(p.Conflicts.fn[i]=e.fn[i],e.fn[b]=l,p.DontConflict||(e.fn[i]=e.fn[b])),p.Conflicts[i]=e[i],e[b]=n.utilities._delegate||d,p.DontConflict||(e[i]=e[b]),n.namespace=i,n.namespaceClean=b,n.guid=0,n.methods._resize&&(p.ResizeHandlers.push({namespace:i,priority:n.priority,callback:n.methods._resize}),p.ResizeHandlers.sort(c)),n.methods._raf&&(p.RAFHandlers.push({namespace:i,priority:n.priority,callback:n.methods._raf}),p.RAFHandlers.sort(c)),n}(i,o),f.then(function(){n(i)}),p.Plugins[i]};var m=null,v=20;return p.$window.on("resize.fs",s),s(),l(),e(function(){p.$body=e("body"),f.resolve(),p.support.nativeMatchMedia=p.support.matchMedia&&!e("html").hasClass("no-matchmedia")}),g.clickTouchStart=g.click+" "+g.touchStart,o(),p}(jQuery,window,document);
!function(e,t){"use strict";function i(t){var i=this.closest("label"),n=i.length?i.eq(0):e("label[for="+this.attr("id")+"]"),a=[g.base,t.customClass].join(" "),o="";t.radio="radio"===this.attr("type"),t.group=this.attr("name"),o+='<div class="'+g.marker+'">',o+='<div class="'+g.flag+'"></div>',t.toggle&&(a+=" "+g.toggle,o+='<span class="'+[g.state,g.state_on].join(" ")+'">'+t.labels.on+"</span>",o+='<span class="'+[g.state,g.state_off].join(" ")+'">'+t.labels.off+"</span>"),t.radio&&(a+=" "+g.radio),o+="</div>",n.length?n.addClass(g.label).wrap('<div class="'+a+'"></div>').before(o):this.before('<div class=" '+a+'">'+o+"</div>"),t.$checkbox=n.length?n.parents(h.base):this.prev(h.base),t.$marker=t.$checkbox.find(h.marker),t.$states=t.$checkbox.find(h.state),t.$label=n,this.is(":checked")&&t.$checkbox.addClass(g.checked),this.is(":disabled")&&t.$checkbox.addClass(g.disabled),this.wrap('<div class="'+g.element_wrapper+'"></div>'),this.on(m.focus,t,u).on(m.blur,t,p).on(m.change,t,l).on(m.click,t,r).on(m.deselect,t,d),t.$checkbox.on(m.click,t,r)}function n(e){e.$checkbox.off(m.namespace),e.$marker.remove(),e.$states.remove(),e.$label.unwrap().removeClass(g.label),this.unwrap().off(m.namespace)}function a(e){this.prop("disabled",!1),e.$checkbox.removeClass(g.disabled)}function o(e){this.prop("disabled",!0),e.$checkbox.addClass(g.disabled)}function s(e){var t=e.$el.is(":disabled"),i=e.$el.is(":checked");t||(i?c({data:e}):d({data:e}))}function r(t){t.stopPropagation();var i=t.data;e(t.target).is(i.$el)||(t.preventDefault(),i.$el.trigger("click"))}function l(e){var t=e.data,i=t.$el.is(":disabled"),n=t.$el.is(":checked");i||(t.radio?c(e):n?c(e):d(e))}function c(t){t.data.radio&&e('input[name="'+t.data.group+'"]').not(t.data.$el).trigger("deselect"),t.data.$checkbox.addClass(g.checked)}function d(e){e.data.$checkbox.removeClass(g.checked)}function u(e){e.data.$checkbox.addClass(g.focus)}function p(e){e.data.$checkbox.removeClass(g.focus)}var f=t.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"}},classes:["element_wrapper","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:i,_destruct:n,enable:a,disable:o,update:s},events:{deselect:"deselect"}}),h=f.classes,g=h.raw,m=f.events;f.functions}(jQuery,Formstone);
!function(e,t){"use strict";function n(e){this.on(f.mouseEnter,e,a)}function i(){c(),this.off(f.namespace)}function a(e){c();var t=e.data;t.left=e.pageX,t.top=e.pageY,s(t)}function o(e){var t=e.data;g.clearTimer(t.timer),c()}function r(e){l(e.pageX,e.pageY)}function s(n){c();var i="";i+='<div class="',i+=[h.base,h[n.direction],n.customClass].join(" "),i+='">',i+='<div class="'+h.content+'">',i+=n.formatter.call(n.$el,n),i+='<span class="'+h.caret+'"></span>',i+="</div>",i+="</div>",m={$tooltip:e(i),$el:n.$el},t.$body.append(m.$tooltip);var a=m.$tooltip.find(p.content),s=m.$tooltip.find(p.caret),d=n.$el.offset(),u=n.$el.outerHeight(),v=n.$el.outerWidth(),b=0,y=0,w=0,$=0,x=!1,C=!1,k=s.outerHeight(!0),T=s.outerWidth(!0),H=a.outerHeight(!0),E=a.outerWidth(!0);"right"===n.direction||"left"===n.direction?(C=(H-k)/2,$=-H/2,"right"===n.direction?w=n.margin:"left"===n.direction&&(w=-(E+n.margin))):(x=(E-T)/2,w=-E/2,"bottom"===n.direction?$=n.margin:"top"===n.direction&&($=-(H+n.margin))),a.css({top:$,left:w}),s.css({top:C,left:x}),n.follow?n.$el.on(f.mouseMove,n,r):(n.match?"right"===n.direction||"left"===n.direction?(y=n.top,"right"===n.direction?b=d.left+v:"left"===n.direction&&(b=d.left)):(b=n.left,"bottom"===n.direction?y=d.top+u:"top"===n.direction&&(y=d.top)):"right"===n.direction||"left"===n.direction?(y=d.top+u/2,"right"===n.direction?b=d.left+v:"left"===n.direction&&(b=d.left)):(b=d.left+v/2,"bottom"===n.direction?y=d.top+u:"top"===n.direction&&(y=d.top)),l(b,y)),n.timer=g.startTimer(n.timer,n.delay,function(){m.$tooltip.addClass(h.visible)}),n.$el.one(f.mouseLeave,n,o)}function l(e,t){m&&m.$tooltip.css({left:e,top:t})}function c(){m&&(m.$el.off([f.mouseMove,f.mouseLeave].join(" ")),m.$tooltip.remove(),m=null)}function d(){return this.data("title")}var u=t.Plugin("tooltip",{widget:!0,defaults:{customClass:"",delay:0,direction:"top",follow:!1,formatter:d,margin:15,match:!1},classes:["content","caret","visible","top","bottom","right","left"],methods:{_construct:n,_destruct:i}}),p=u.classes,h=p.raw,f=u.events,g=u.functions,m=null}(jQuery,Formstone);
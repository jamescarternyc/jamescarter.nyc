!function(e,t,i){"use strict";function n(e,i){if(i){e.$target=this.find(e.target),e.$check=e.target?e.$target:this,e.callback=i,e.styles=l(e.$check),e.timer=null;var n=e.$check.css(t.transition+"-duration"),a=parseFloat(n);t.support.transition&&n&&a?this.on(u.transitionEnd,e,o):e.timer=p.startTimer(e.timer,50,function(){r(e)},!0)}}function a(e){p.clearTimer(e.timer,!0),this.off(u.namespace)}function o(t){t.stopPropagation(),t.preventDefault();var i=t.data,n=t.originalEvent,a=i.target?i.$target:i.$el;i.property&&n.propertyName!==i.property||!e(n.target).is(a)||s(i)}function s(e){e.always||e.$el[d.namespaceClean]("destroy"),e.callback.apply(e.$el)}function r(e){var t=l(e.$check);c(e.styles,t)||s(e),e.styles=t}function l(t){var i,a,o,n={};if(t instanceof e&&(t=t[0]),f.getComputedStyle){i=f.getComputedStyle(t,null);for(var s=0,r=i.length;r>s;s++)a=i[s],o=i.getPropertyValue(a),n[a]=o}else if(t.currentStyle){i=t.currentStyle;for(a in i)i[a]&&(n[a]=i[a])}return n}function c(t,i){if(e.type(t)!==e.type(i))return!1;for(var n in t)if(!t.hasOwnProperty(n)||!i.hasOwnProperty(n)||t[n]!==i[n])return!1;return!0}var d=t.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:n,_destruct:a,resolve:s}}),u=d.events,p=d.functions,f=t.window}(jQuery,Formstone);
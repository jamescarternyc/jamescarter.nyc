!function(e,t,i){"use strict";function n(){y=t.$body}function a(e){var t=parseFloat(this.attr("min")),i=parseFloat(this.attr("max"));e.min=t||0===t?t:!1,e.max=i||0===i?i:!1,e.step=parseFloat(this.attr("step"))||1,e.timer=null,e.digits=p(e.step),e.disabled=this.prop("disabled");var n="";n+='<button type="button" class="'+[m.arrow,m.up].join(" ")+'">'+e.labels.up+"</button>",n+='<button type="button" class="'+[m.arrow,m.down].join(" ")+'">'+e.labels.down+"</button>",this.wrap('<div class="'+[m.base,e.customClass,e.disabled?m.disabled:""].join(" ")+'"></div>').after(n),e.$container=this.parent(g.base),e.$arrows=e.$container.find(g.arrow),this.on(v.keyPress,g.element,e,l),e.$container.on([v.touchStart,v.mouseDown].join(" "),g.arrow,e,c)}function o(e){e.$arrows.remove(),this.unwrap().off(v.namespace)}function r(e){e.disabled&&(this.prop("disabled",!1),e.$container.removeClass(m.disabled),e.disabled=!1)}function s(e){e.disabled||(this.prop("disabled",!0),e.$container.addClass(m.disabled),e.disabled=!0)}function l(e){var t=e.data;(38===e.keyCode||40===e.keyCode)&&(e.preventDefault(),u(t,38===e.keyCode?t.step:-t.step))}function c(t){b.killEvent(t),d(t);var i=t.data;if(!i.disabled){var n=e(t.target).hasClass(m.up)?i.step:-i.step;i.timer=b.startTimer(i.timer,110,function(){u(i,n,!1)},!0),u(i,n),y.on([v.touchEnd,v.mouseUp].join(" "),i,d)}}function d(e){b.killEvent(e);var t=e.data;b.clearTimer(t.timer,!0),y.off(v.namespace)}function u(t,i){var n=parseFloat(t.$el.val()),a=i;"undefined"===e.type(n)||isNaN(n)?a=t.min!==!1?t.min:0:t.min!==!1&&n<t.min?a=t.min:a+=n;var o=(a-t.min)%t.step;0!==o&&(a-=o),t.min!==!1&&a<t.min&&(a=t.min),t.max!==!1&&a>t.max&&(a-=t.step),a!==n&&(a=f(a,t.digits),t.$el.val(a).trigger(v.raw.change))}function p(e){var t=String(e);return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}function f(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}var h=t.Plugin("number",{widget:!0,defaults:{customClass:"",labels:{up:"Up",down:"Down"}},classes:["arrow","up","down","disabled"],methods:{_setup:n,_construct:a,_destruct:o,enable:r,disable:s},events:{}}),g=h.classes,m=g.raw,v=h.events,b=h.functions,y=null}(jQuery,Formstone);
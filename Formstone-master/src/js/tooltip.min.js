!function(e,t,i){"use strict";function n(e){this.on(g.mouseEnter,e,o)}function a(e){d(),this.off(g.namespace)}function o(e){d();var t=e.data;t.left=e.pageX,t.top=e.pageY,l(t)}function s(e){var t=e.data;m.clearTimer(t.timer),d()}function r(e){c(e.pageX,e.pageY)}function l(i){d();var n="";n+='<div class="',n+=[h.base,h[i.direction],i.customClass].join(" "),n+='">',n+='<div class="'+h.content+'">',n+=i.formatter.call(i.$el,i),n+='<span class="'+h.caret+'"></span>',n+="</div>",n+="</div>",v={$tooltip:e(n),$el:i.$el},t.$body.append(v.$tooltip);var a=v.$tooltip.find(f.content),o=v.$tooltip.find(f.caret),l=i.$el.offset(),u=i.$el.outerHeight(),p=i.$el.outerWidth(),b=0,y=0,w=0,$=0,x=!1,C=!1,k=o.outerHeight(!0),T=o.outerWidth(!0),H=a.outerHeight(!0),W=a.outerWidth(!0);"right"===i.direction||"left"===i.direction?(C=(H-k)/2,$=-H/2,"right"===i.direction?w=i.margin:"left"===i.direction&&(w=-(W+i.margin))):(x=(W-T)/2,w=-W/2,"bottom"===i.direction?$=i.margin:"top"===i.direction&&($=-(H+i.margin))),a.css({top:$,left:w}),o.css({top:C,left:x}),i.follow?i.$el.on(g.mouseMove,i,r):(i.match?"right"===i.direction||"left"===i.direction?(y=i.top,"right"===i.direction?b=l.left+p:"left"===i.direction&&(b=l.left)):(b=i.left,"bottom"===i.direction?y=l.top+u:"top"===i.direction&&(y=l.top)):"right"===i.direction||"left"===i.direction?(y=l.top+u/2,"right"===i.direction?b=l.left+p:"left"===i.direction&&(b=l.left)):(b=l.left+p/2,"bottom"===i.direction?y=l.top+u:"top"===i.direction&&(y=l.top)),c(b,y)),i.timer=m.startTimer(i.timer,i.delay,function(){v.$tooltip.addClass(h.visible)}),i.$el.one(g.mouseLeave,i,s)}function c(e,t){v&&v.$tooltip.css({left:e,top:t})}function d(){v&&(v.$el.off([g.mouseMove,g.mouseLeave].join(" ")),v.$tooltip.remove(),v=null)}function u(e){return this.data("title")}var p=t.Plugin("tooltip",{widget:!0,defaults:{customClass:"",delay:0,direction:"top",follow:!1,formatter:u,margin:15,match:!1},classes:["content","caret","visible","top","bottom","right","left"],methods:{_construct:n,_destruct:a}}),f=p.classes,h=f.raw,g=p.events,m=p.functions,v=null}(jQuery,Formstone);
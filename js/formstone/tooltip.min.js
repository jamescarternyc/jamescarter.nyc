!function(e,t){"use strict";function i(e){this.on(h.mouseEnter,e,a)}function n(){c(),this.off(h.namespace)}function a(e){c();var t=e.data;t.left=e.pageX,t.top=e.pageY,r(t)}function o(e){var t=e.data;g.clearTimer(t.timer),c()}function s(e){l(e.pageX,e.pageY)}function r(i){c();var n="";n+='<div class="',n+=[f.base,f[i.direction],i.customClass].join(" "),n+='">',n+='<div class="'+f.content+'">',n+=i.formatter.call(i.$el,i),n+='<span class="'+f.caret+'"></span>',n+="</div>",n+="</div>",m={$tooltip:e(n),$el:i.$el},t.$body.append(m.$tooltip);var a=m.$tooltip.find(p.content),r=m.$tooltip.find(p.caret),d=i.$el.offset(),u=i.$el.outerHeight(),v=i.$el.outerWidth(),b=0,y=0,w=0,$=0,x=!1,C=!1,k=r.outerHeight(!0),T=r.outerWidth(!0),H=a.outerHeight(!0),W=a.outerWidth(!0);"right"===i.direction||"left"===i.direction?(C=(H-k)/2,$=-H/2,"right"===i.direction?w=i.margin:"left"===i.direction&&(w=-(W+i.margin))):(x=(W-T)/2,w=-W/2,"bottom"===i.direction?$=i.margin:"top"===i.direction&&($=-(H+i.margin))),a.css({top:$,left:w}),r.css({top:C,left:x}),i.follow?i.$el.on(h.mouseMove,i,s):(i.match?"right"===i.direction||"left"===i.direction?(y=i.top,"right"===i.direction?b=d.left+v:"left"===i.direction&&(b=d.left)):(b=i.left,"bottom"===i.direction?y=d.top+u:"top"===i.direction&&(y=d.top)):"right"===i.direction||"left"===i.direction?(y=d.top+u/2,"right"===i.direction?b=d.left+v:"left"===i.direction&&(b=d.left)):(b=d.left+v/2,"bottom"===i.direction?y=d.top+u:"top"===i.direction&&(y=d.top)),l(b,y)),i.timer=g.startTimer(i.timer,i.delay,function(){m.$tooltip.addClass(f.visible)}),i.$el.one(h.mouseLeave,i,o)}function l(e,t){m&&m.$tooltip.css({left:e,top:t})}function c(){m&&(m.$el.off([h.mouseMove,h.mouseLeave].join(" ")),m.$tooltip.remove(),m=null)}function d(){return this.data("title")}var u=t.Plugin("tooltip",{widget:!0,defaults:{customClass:"",delay:0,direction:"top",follow:!1,formatter:d,margin:15,match:!1},classes:["content","caret","visible","top","bottom","right","left"],methods:{_construct:i,_destruct:n}}),p=u.classes,f=p.raw,h=u.events,g=u.functions,m=null}(jQuery,Formstone);
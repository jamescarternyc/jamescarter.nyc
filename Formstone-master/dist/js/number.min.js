!function(e,t){"use strict";function n(){y=t.$body}function i(e){var t=parseFloat(this.attr("min")),n=parseFloat(this.attr("max"));e.min=t||0===t?t:!1,e.max=n||0===n?n:!1,e.step=parseFloat(this.attr("step"))||1,e.timer=null,e.digits=u(e.step),e.disabled=this.prop("disabled");var i="";i+='<button type="button" class="'+[g.arrow,g.up].join(" ")+'">'+e.labels.up+"</button>",i+='<button type="button" class="'+[g.arrow,g.down].join(" ")+'">'+e.labels.down+"</button>",this.wrap('<div class="'+[g.base,e.customClass,e.disabled?g.disabled:""].join(" ")+'"></div>').after(i),e.$container=this.parent(f.base),e.$arrows=e.$container.find(f.arrow),this.on(m.keyPress,f.element,e,s),e.$container.on([m.touchStart,m.mouseDown].join(" "),f.arrow,e,l)}function a(e){e.$arrows.remove(),this.unwrap().off(m.namespace)}function o(e){e.disabled&&(this.prop("disabled",!1),e.$container.removeClass(g.disabled),e.disabled=!1)}function r(e){e.disabled||(this.prop("disabled",!0),e.$container.addClass(g.disabled),e.disabled=!0)}function s(e){var t=e.data;(38===e.keyCode||40===e.keyCode)&&(e.preventDefault(),d(t,38===e.keyCode?t.step:-t.step))}function l(t){v.killEvent(t),c(t);var n=t.data;if(!n.disabled){var i=e(t.target).hasClass(g.up)?n.step:-n.step;n.timer=v.startTimer(n.timer,110,function(){d(n,i,!1)},!0),d(n,i),y.on([m.touchEnd,m.mouseUp].join(" "),n,c)}}function c(e){v.killEvent(e);var t=e.data;v.clearTimer(t.timer,!0),y.off(m.namespace)}function d(t,n){var i=parseFloat(t.$el.val()),a=n;"undefined"===e.type(i)||isNaN(i)?a=t.min!==!1?t.min:0:t.min!==!1&&i<t.min?a=t.min:a+=i;var o=(a-t.min)%t.step;0!==o&&(a-=o),t.min!==!1&&a<t.min&&(a=t.min),t.max!==!1&&a>t.max&&(a-=t.step),a!==i&&(a=p(a,t.digits),t.$el.val(a).trigger(m.raw.change))}function u(e){var t=String(e);return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}function p(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var h=t.Plugin("number",{widget:!0,defaults:{customClass:"",labels:{up:"Up",down:"Down"}},classes:["arrow","up","down","disabled"],methods:{_setup:n,_construct:i,_destruct:a,enable:o,disable:r},events:{}}),f=h.classes,g=f.raw,m=h.events,v=h.functions,y=null}(jQuery,Formstone);
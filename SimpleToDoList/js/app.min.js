var taskInput=document.getElementById("new-task"),addButton=document.getElementsByTagName("button")[0],incompleteTasksHolder=document.getElementById("incomplete-tasks"),completedTasksHolder=document.getElementById("completed-tasks"),createNewTaskElement=function(e){var t=document.createElement("li"),i=document.createElement("input"),n=document.createElement("label"),a=document.createElement("label"),o=document.createElement("button"),s=document.createElement("button");return i.type="checkBox",a.type="text",o.innerText="Edit",o.className="edit",s.innerText="Delete",s.className="delete",n.innerText=e,t.appendChild(i),t.appendChild(n),t.appendChild(a),t.appendChild(o),t.appendChild(s),t},addTask=function(){console.log("Add task...");var e=createNewTaskElement(taskInput.value);incompleteTasksHolder.appendChild(e),bindTaskEvents(e,taskCompleted),taskInput.value=""},editTask=function(){console.log("Edit task...");var e=this.parentNode,t=e.querySelector("input[type=text]"),i=e.querySelector("label"),n=e.classList.contains("editMode");n?i.innerText=t.value:t.value=i.innerText,e.classList.toggle("editMode")},deleteTask=function(){console.log("Delete task...");var e=this.parentNode,t=e.parentNode;t.removeChild(e)},taskCompleted=function(){console.log("Task complete...");var e=this.parentNode;completedTasksHolder.appendChild(e),bindTaskEvents(e,taskIncomplete)},taskIncomplete=function(){console.log("Task incomplete...");var e=this.parentNode;incompleteTasksHolder.appendChild(e),bindTaskEvents(e,taskCompleted)},bindTaskEvents=function(e,t){console.log("Bind List item events");var i=e.querySelector("input[type=checkbox]"),n=e.querySelector("button.edit"),a=e.querySelector("button.delete");n.onclick=editTask,a.onclick=deleteTask,i.onchange=t},ajaxRequest=function(){console.log("Ajax Request")};addButton.addEventListener("click",addTask),addButton.addEventListener("click",ajaxRequest);for(var i=0;i<incompleteTasksHolder.children.length;i++)bindTaskEvents(incompleteTasksHolder.children[i],taskCompleted);for(var i=0;i<completedTasksHolder.children.length;i++)bindTaskEvents(completedTasksHolder.children[i],taskIncomplete);
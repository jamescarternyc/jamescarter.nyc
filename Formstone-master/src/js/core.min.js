var Formstone=window.Formstone=function(e,t,n,i){"use strict";function d(e){r.Plugins[e].initialized||(r.Plugins[e].methods._setup.call(n),r.Plugins[e].initialized=!0)}function u(e,t,n,i){var o,a={raw:{}};i=i||{};for(o in i)i.hasOwnProperty(o)&&("classes"===e?(a.raw[i[o]]=t+"-"+i[o],a[i[o]]="."+t+"-"+i[o]):(a.raw[o]=i[o],a[o]=i[o]+"."+t));for(o in n)n.hasOwnProperty(o)&&("classes"===e?(a.raw[o]=n[o].replace(/{ns}/g,t),a[o]=n[o].replace(/{ns}/g,"."+t)):(a.raw[o]=n[o].replace(/.{ns}/g,""),a[o]=n[o].replace(/{ns}/g,t)));return a}function p(){var d,e={transition:"transitionend",MozTransition:"transitionend",OTransition:"otransitionend",WebkitTransition:"webkitTransitionEnd"},t=["transition","-webkit-transition"],i={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},a="transitionend",o="",s="",l=n.createElement("div");for(d in e)if(e.hasOwnProperty(d)&&d in l.style){a=e[d],r.support.transition=!0;break}c.transitionEnd=a+".{ns}";for(d in t)if(t.hasOwnProperty(d)&&t[d]in l.style){o=t[d];break}r.transition=o;for(d in i)if(i.hasOwnProperty(d)&&i[d]in l.style){r.support.transform=!0,s=i[d];break}r.transform=s}function g(){r.windowWidth=r.$window.width(),r.windowHeight=r.$window.height(),f=o.startTimer(f,h,m)}function m(){for(var e in r.ResizeHandlers)r.ResizeHandlers.hasOwnProperty(e)&&r.ResizeHandlers[e].callback.call(t,r.windowWidth,r.windowHeight)}function v(){if(r.support.raf){r.window.requestAnimationFrame(v);for(var e in r.RAFHandlers)r.RAFHandlers.hasOwnProperty(e)&&r.RAFHandlers[e].callback.call(t)}}function b(e,t){return parseInt(e.priority)-parseInt(t.priority)}var a=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=t,this.$window=e(t),this.document=n,this.$document=e(n),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.userAgent=t.navigator.userAgent||t.navigator.vendor||t.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(t.File&&t.FileList&&t.FileReader),history:!!(t.history&&t.history.pushState&&t.history.replaceState),matchMedia:!(!t.matchMedia&&!t.msMatchMedia),pointer:!!t.PointerEvent,raf:!(!t.requestAnimationFrame||!t.cancelAnimationFrame),touch:!!("ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch),transition:!1,transform:!1}},o={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(n){}},startTimer:function(e,t,n,i){return o.clearTimer(e),i?setInterval(n,t):setTimeout(n,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=r.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},n=e.slice(e.indexOf("?")+1).split("&"),i=0;i<n.length;i++){var a=n[i].split("=");t[a[0]]=a[1]}return t}},r=new a,s=e.Deferred(),l={base:"{ns}",element:"{ns}-element"},c={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};a.prototype.NoConflict=function(){r.DontConflict=!0;for(var t in r.Plugins)r.Plugins.hasOwnProperty(t)&&(e[t]=r.Conflicts[t],e.fn[t]=r.Conflicts.fn[t])},a.prototype.Plugin=function(n,i){return r.Plugins[n]=function(n,i){function p(t){var s,l,c,a="object"===e.type(t),o=this,r=e();for(t=e.extend(!0,{},i.defaults||{},a?t:{}),l=0,c=o.length;c>l;l++)if(s=o.eq(l),!h(s)){var u="__"+i.guid++,p=i.classes.raw.base+u,f=s.data(n+"-options"),g=e.extend(!0,{$el:s,guid:u,rawGuid:p,dotGuid:"."+p},t,"object"===e.type(f)?f:{});s.addClass(i.classes.raw.element).data(d,g),i.methods._construct.apply(s,[g].concat(Array.prototype.slice.call(arguments,a?1:0))),r=r.add(s)}for(l=0,c=r.length;c>l;l++)s=r.eq(l),i.methods._postConstruct.apply(s,[h(s)]);return o}function f(e){i.functions.iterate.apply(this,[i.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(i.classes.raw.element).removeData(d)}function h(e){return e.data(d)}function g(t){if(this instanceof e){var n=i.methods[t];return"object"!==e.type(t)&&t?n&&0!==t.indexOf("_")?i.functions.iterate.apply(this,[n].concat(Array.prototype.slice.call(arguments,1))):this:p.apply(this,arguments)}}function m(n){var a=i.utilities[n]||i.utilities._initialize||!1;return a?a.apply(t,Array.prototype.slice.call(arguments,"object"===e.type(n)?0:1)):void 0}function v(t){i.defaults=e.extend(!0,i.defaults,t||{})}function y(t){for(var n=this,i=0,a=n.length;a>i;i++){var o=n.eq(i),r=h(o)||{};"undefined"!==e.type(r.$el)&&t.apply(o,[r].concat(Array.prototype.slice.call(arguments,1)))}return n}var a="fs-"+n,d="fs"+n.replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()});return i.initialized=!1,i.priority=i.priority||10,i.classes=u("classes",a,l,i.classes),i.events=u("events",n,c,i.events),i.functions=e.extend({getData:h,iterate:y},o,i.functions),i.methods=e.extend(!0,{_setup:e.noop,_construct:e.noop,_postConstruct:e.noop,_destruct:e.noop,_resize:!1,destroy:f},i.methods),i.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:v},i.utilities),i.widget&&(r.Conflicts.fn[n]=e.fn[n],e.fn[d]=g,r.DontConflict||(e.fn[n]=e.fn[d])),r.Conflicts[n]=e[n],e[d]=i.utilities._delegate||m,r.DontConflict||(e[n]=e[d]),i.namespace=n,i.namespaceClean=d,i.guid=0,i.methods._resize&&(r.ResizeHandlers.push({namespace:n,priority:i.priority,callback:i.methods._resize}),r.ResizeHandlers.sort(b)),i.methods._raf&&(r.RAFHandlers.push({namespace:n,priority:i.priority,callback:i.methods._raf}),r.RAFHandlers.sort(b)),i}(n,i),s.then(function(){d(n)}),r.Plugins[n]};var f=null,h=20;return r.$window.on("resize.fs",g),g(),v(),e(function(){r.$body=e("body"),s.resolve(),r.support.nativeMatchMedia=r.support.matchMedia&&!e("html").hasClass("no-matchmedia")}),c.clickTouchStart=c.click+" "+c.touchStart,p(),r}(jQuery,window,document);
var Formstone=window.Formstone=function(e,t,n){"use strict";function i(e){p.Plugins[e].initialized||(p.Plugins[e].methods._setup.call(n),p.Plugins[e].initialized=!0)}function o(e,t,n,i){var o,a={raw:{}};i=i||{};for(o in i)i.hasOwnProperty(o)&&("classes"===e?(a.raw[i[o]]=t+"-"+i[o],a[i[o]]="."+t+"-"+i[o]):(a.raw[o]=i[o],a[o]=i[o]+"."+t));for(o in n)n.hasOwnProperty(o)&&("classes"===e?(a.raw[o]=n[o].replace(/{ns}/g,t),a[o]=n[o].replace(/{ns}/g,"."+t)):(a.raw[o]=n[o].replace(/.{ns}/g,""),a[o]=n[o].replace(/{ns}/g,t)));return a}function a(){var e,t={transition:"transitionend",MozTransition:"transitionend",OTransition:"otransitionend",WebkitTransition:"webkitTransitionEnd"},i=["transition","-webkit-transition"],o={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},a="transitionend",r="",s="",l=n.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in l.style){a=t[e],p.support.transition=!0;break}g.transitionEnd=a+".{ns}";for(e in i)if(i.hasOwnProperty(e)&&i[e]in l.style){r=i[e];break}p.transition=r;for(e in o)if(o.hasOwnProperty(e)&&o[e]in l.style){p.support.transform=!0,s=o[e];break}p.transform=s}function r(){p.windowWidth=p.$window.width(),p.windowHeight=p.$window.height(),m=u.startTimer(m,v,s)}function s(){for(var e in p.ResizeHandlers)p.ResizeHandlers.hasOwnProperty(e)&&p.ResizeHandlers[e].callback.call(t,p.windowWidth,p.windowHeight)}function l(){if(p.support.raf){p.window.requestAnimationFrame(l);for(var e in p.RAFHandlers)p.RAFHandlers.hasOwnProperty(e)&&p.RAFHandlers[e].callback.call(t)}}function c(e,t){return parseInt(e.priority)-parseInt(t.priority)}var d=function(){this.Version="0.8.24",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=t,this.$window=e(t),this.document=n,this.$document=e(n),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.userAgent=t.navigator.userAgent||t.navigator.vendor||t.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(t.File&&t.FileList&&t.FileReader),history:!!(t.history&&t.history.pushState&&t.history.replaceState),matchMedia:!(!t.matchMedia&&!t.msMatchMedia),pointer:!!t.PointerEvent,raf:!(!t.requestAnimationFrame||!t.cancelAnimationFrame),touch:!!("ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch),transition:!1,transform:!1}},u={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(n){}},startTimer:function(e,t,n,i){return u.clearTimer(e),i?setInterval(n,t):setTimeout(n,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=p.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},n=e.slice(e.indexOf("?")+1).split("&"),i=0;i<n.length;i++){var o=n[i].split("=");t[o[0]]=o[1]}return t}},p=new d,f=e.Deferred(),h={base:"{ns}",element:"{ns}-element"},g={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};d.prototype.NoConflict=function(){p.DontConflict=!0;for(var t in p.Plugins)p.Plugins.hasOwnProperty(t)&&(e[t]=p.Conflicts[t],e.fn[t]=p.Conflicts.fn[t])},d.prototype.Plugin=function(n,a){return p.Plugins[n]=function(n,i){function a(t){var o,a,r,l="object"===e.type(t),c=this,d=e();for(t=e.extend(!0,{},i.defaults||{},l?t:{}),a=0,r=c.length;r>a;a++)if(o=c.eq(a),!s(o)){var u="__"+i.guid++,p=i.classes.raw.base+u,f=o.data(n+"-options"),h=e.extend(!0,{$el:o,guid:u,rawGuid:p,dotGuid:"."+p},t,"object"===e.type(f)?f:{});o.addClass(i.classes.raw.element).data(y,h),i.methods._construct.apply(o,[h].concat(Array.prototype.slice.call(arguments,l?1:0))),d=d.add(o)}for(a=0,r=d.length;r>a;a++)o=d.eq(a),i.methods._postConstruct.apply(o,[s(o)]);return c}function r(){i.functions.iterate.apply(this,[i.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(i.classes.raw.element).removeData(y)}function s(e){return e.data(y)}function l(t){if(this instanceof e){var n=i.methods[t];return"object"!==e.type(t)&&t?n&&0!==t.indexOf("_")?i.functions.iterate.apply(this,[n].concat(Array.prototype.slice.call(arguments,1))):this:a.apply(this,arguments)}}function d(n){var o=i.utilities[n]||i.utilities._initialize||!1;return o?o.apply(t,Array.prototype.slice.call(arguments,"object"===e.type(n)?0:1)):void 0}function f(t){i.defaults=e.extend(!0,i.defaults,t||{})}function m(t){for(var n=this,i=0,o=n.length;o>i;i++){var a=n.eq(i),r=s(a)||{};"undefined"!==e.type(r.$el)&&t.apply(a,[r].concat(Array.prototype.slice.call(arguments,1)))}return n}var v="fs-"+n,y="fs"+n.replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()});return i.initialized=!1,i.priority=i.priority||10,i.classes=o("classes",v,h,i.classes),i.events=o("events",n,g,i.events),i.functions=e.extend({getData:s,iterate:m},u,i.functions),i.methods=e.extend(!0,{_setup:e.noop,_construct:e.noop,_postConstruct:e.noop,_destruct:e.noop,_resize:!1,destroy:r},i.methods),i.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:f},i.utilities),i.widget&&(p.Conflicts.fn[n]=e.fn[n],e.fn[y]=l,p.DontConflict||(e.fn[n]=e.fn[y])),p.Conflicts[n]=e[n],e[y]=i.utilities._delegate||d,p.DontConflict||(e[n]=e[y]),i.namespace=n,i.namespaceClean=y,i.guid=0,i.methods._resize&&(p.ResizeHandlers.push({namespace:n,priority:i.priority,callback:i.methods._resize}),p.ResizeHandlers.sort(c)),i.methods._raf&&(p.RAFHandlers.push({namespace:n,priority:i.priority,callback:i.methods._raf}),p.RAFHandlers.sort(c)),i}(n,a),f.then(function(){i(n)}),p.Plugins[n]};var m=null,v=20;return p.$window.on("resize.fs",r),r(),l(),e(function(){p.$body=e("body"),f.resolve(),p.support.nativeMatchMedia=p.support.matchMedia&&!e("html").hasClass("no-matchmedia")}),g.clickTouchStart=g.click+" "+g.touchStart,a(),p}(jQuery,window,document);
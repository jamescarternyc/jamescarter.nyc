!function(e,t){"use strict";function i(){x=e("html, body")}function n(t){t.handleGuid=w.handle+t.guid,t.isToggle="toggle"===t.type,t.open=!1,t.isToggle&&(t.gravity="");var i=w.base,n=[i,t.type].join("-"),a=t.gravity?[n,t.gravity].join("-"):"",o=[t.rawGuid,t.customClass].join(" ");t.handle=this.data(b+"-handle"),t.content=this.data(b+"-content"),t.handleClasses=[w.handle,w.handle.replace(i,n),a?w.handle.replace(i,a):"",t.handleGuid,o].join(" "),t.navClasses=[w.nav.replace(i,n),a?w.nav.replace(i,a):"",o].join(" "),t.contentClasses=[w.content.replace(i,n),o].join(" "),t.contentClassesOpen=[a?w.content.replace(i,a):"",w.open].join(" "),t.$nav=this.addClass(t.navClasses),t.$handle=e(t.handle).addClass(t.handleClasses),t.$content=e(t.content).addClass(t.contentClasses),t.$animate=e().add(t.$nav).add(t.$content),g(t),t.$handle.attr("data-swap-target",t.dotGuid).attr("data-swap-linked",t.handleGuid).attr("data-swap-group",w.base).on("activate.swap"+t.dotGuid,t,c).on("deactivate.swap"+t.dotGuid,t,d).on("enable.swap"+t.dotGuid,t,u).on("disable.swap"+t.dotGuid,t,p).fsSwap({maxWidth:t.maxWidth,classes:{target:t.dotGuid,enabled:y.enabled,active:y.open,raw:{target:t.rawGuid,enabled:w.enabled,active:w.open}}})}function a(e){e.$content.removeClass([e.contentClasses,e.contentClassesOpen].join(" ")).off($.namespace),e.$handle.removeAttr("data-swap-target").removeData("swap-target").removeAttr("data-swap-linked").removeData("swap-linked").removeClass(e.handleClasses).off(e.dotGuid).text(e.originalLabel).fsSwap("destroy"),m(e),h(e),this.removeClass(e.navClasses).off($.namespace)}function o(e){e.$handle.fsSwap("activate")}function s(e){e.$handle.fsSwap("deactivate")}function r(e){e.$handle.fsSwap("enable")}function l(e){e.$handle.fsSwap("disable")}function c(e){if(!e.originalEvent){var t=e.data;t.open||(t.$el.trigger($.open),t.$content.addClass(t.contentClassesOpen).one($.click,function(){s(t)}),t.label&&t.$handle.text(t.labels.open),f(t),t.open=!0)}}function d(e){if(!e.originalEvent){var t=e.data;t.open&&(t.$el.trigger($.close),t.$content.removeClass(t.contentClassesOpen).off($.namespace),t.label&&t.$handle.text(t.labels.closed),h(t),t.open=!1)}}function u(e){var t=e.data;t.$content.addClass(w.enabled),setTimeout(function(){t.$animate.addClass(w.animated)},0),t.label&&t.$handle.text(t.labels.closed)}function p(e){var t=e.data;t.$content.removeClass(w.enabled,w.animated),t.$animate.removeClass(w.animated),m(t),h(t)}function f(e){e.isToggle||x.addClass(w.lock)}function h(e){e.isToggle||x.removeClass(w.lock)}function g(e){if(e.label)if(e.$handle.length>1){e.originalLabel=[];for(var t=0,i=e.$handle.length;i>t;t++)e.originalLabel[t]=e.$handle.eq(t).text()}else e.originalLabel=e.$handle.text()}function m(e){if(e.label)if(e.$handle.length>1)for(var t=0,i=e.$handle.length;i>t;t++)e.$handle.eq(t).text(e.originalLabel[t]);else e.$handle.text(e.originalLabel)}var v=t.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",type:"toggle"},classes:["handle","nav","content","animated","enabled","open","toggle","push","reveal","overlay","left","right","lock"],events:{open:"open",close:"close"},methods:{_setup:i,_construct:n,_destruct:a,open:o,close:s,enable:r,disable:l}}),b=v.namespace,y=v.classes,w=y.raw,$=v.events,x=(v.functions,null)}(jQuery,Formstone);
!function(e,t){"use strict";function i(){b=t.$body}function n(e){var t=parseFloat(this.attr("min")),i=parseFloat(this.attr("max"));e.min=t||0===t?t:!1,e.max=i||0===i?i:!1,e.step=parseFloat(this.attr("step"))||1,e.timer=null,e.digits=u(e.step),e.disabled=this.prop("disabled");var n="";n+='<button type="button" class="'+[g.arrow,g.up].join(" ")+'">'+e.labels.up+"</button>",n+='<button type="button" class="'+[g.arrow,g.down].join(" ")+'">'+e.labels.down+"</button>",this.wrap('<div class="'+[g.base,e.customClass,e.disabled?g.disabled:""].join(" ")+'"></div>').after(n),e.$container=this.parent(h.base),e.$arrows=e.$container.find(h.arrow),this.on(m.keyPress,h.element,e,r),e.$container.on([m.touchStart,m.mouseDown].join(" "),h.arrow,e,l)}function a(e){e.$arrows.remove(),this.unwrap().off(m.namespace)}function o(e){e.disabled&&(this.prop("disabled",!1),e.$container.removeClass(g.disabled),e.disabled=!1)}function s(e){e.disabled||(this.prop("disabled",!0),e.$container.addClass(g.disabled),e.disabled=!0)}function r(e){var t=e.data;(38===e.keyCode||40===e.keyCode)&&(e.preventDefault(),d(t,38===e.keyCode?t.step:-t.step))}function l(t){v.killEvent(t),c(t);var i=t.data;if(!i.disabled){var n=e(t.target).hasClass(g.up)?i.step:-i.step;i.timer=v.startTimer(i.timer,110,function(){d(i,n,!1)},!0),d(i,n),b.on([m.touchEnd,m.mouseUp].join(" "),i,c)}}function c(e){v.killEvent(e);var t=e.data;v.clearTimer(t.timer,!0),b.off(m.namespace)}function d(t,i){var n=parseFloat(t.$el.val()),a=i;"undefined"===e.type(n)||isNaN(n)?a=t.min!==!1?t.min:0:t.min!==!1&&n<t.min?a=t.min:a+=n;var o=(a-t.min)%t.step;0!==o&&(a-=o),t.min!==!1&&a<t.min&&(a=t.min),t.max!==!1&&a>t.max&&(a-=t.step),a!==n&&(a=p(a,t.digits),t.$el.val(a).trigger(m.raw.change))}function u(e){var t=String(e);return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}function p(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}var f=t.Plugin("number",{widget:!0,defaults:{customClass:"",labels:{up:"Up",down:"Down"}},classes:["arrow","up","down","disabled"],methods:{_setup:i,_construct:n,_destruct:a,enable:o,disable:s},events:{}}),h=f.classes,g=h.raw,m=f.events,v=f.functions,b=null}(jQuery,Formstone);
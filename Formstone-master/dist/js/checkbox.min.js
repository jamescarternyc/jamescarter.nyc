!function(e,t){"use strict";function n(t){var n=this.closest("label"),i=n.length?n.eq(0):e("label[for="+this.attr("id")+"]"),o=[g.base,t.customClass].join(" "),a="";t.radio="radio"===this.attr("type"),t.group=this.attr("name"),a+='<div class="'+g.marker+'">',a+='<div class="'+g.flag+'"></div>',t.toggle&&(o+=" "+g.toggle,a+='<span class="'+[g.state,g.state_on].join(" ")+'">'+t.labels.on+"</span>",a+='<span class="'+[g.state,g.state_off].join(" ")+'">'+t.labels.off+"</span>"),t.radio&&(o+=" "+g.radio),a+="</div>",i.length?i.addClass(g.label).wrap('<div class="'+o+'"></div>').before(a):this.before('<div class=" '+o+'">'+a+"</div>"),t.$checkbox=i.length?i.parents(h.base):this.prev(h.base),t.$marker=t.$checkbox.find(h.marker),t.$states=t.$checkbox.find(h.state),t.$label=i,this.is(":checked")&&t.$checkbox.addClass(g.checked),this.is(":disabled")&&t.$checkbox.addClass(g.disabled),this.wrap('<div class="'+g.element_wrapper+'"></div>'),this.on(m.focus,t,u).on(m.blur,t,p).on(m.change,t,l).on(m.click,t,s).on(m.deselect,t,d),t.$checkbox.on(m.click,t,s)}function i(e){e.$checkbox.off(m.namespace),e.$marker.remove(),e.$states.remove(),e.$label.unwrap().removeClass(g.label),this.unwrap().off(m.namespace)}function o(e){this.prop("disabled",!1),e.$checkbox.removeClass(g.disabled)}function a(e){this.prop("disabled",!0),e.$checkbox.addClass(g.disabled)}function r(e){var t=e.$el.is(":disabled"),n=e.$el.is(":checked");t||(n?c({data:e}):d({data:e}))}function s(t){t.stopPropagation();var n=t.data;e(t.target).is(n.$el)||(t.preventDefault(),n.$el.trigger("click"))}function l(e){var t=e.data,n=t.$el.is(":disabled"),i=t.$el.is(":checked");n||(t.radio?c(e):i?c(e):d(e))}function c(t){t.data.radio&&e('input[name="'+t.data.group+'"]').not(t.data.$el).trigger("deselect"),t.data.$checkbox.addClass(g.checked)}function d(e){e.data.$checkbox.removeClass(g.checked)}function u(e){e.data.$checkbox.addClass(g.focus)}function p(e){e.data.$checkbox.removeClass(g.focus)}var f=t.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"}},classes:["element_wrapper","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:n,_destruct:i,enable:o,disable:a,update:r},events:{deselect:"deselect"}}),h=f.classes,g=h.raw,m=f.events;f.functions}(jQuery,Formstone);